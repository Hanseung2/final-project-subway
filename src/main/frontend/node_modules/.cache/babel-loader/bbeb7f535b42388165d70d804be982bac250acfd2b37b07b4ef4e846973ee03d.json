{"ast":null,"code":"import _objectSpread from \"C:/Users/\\uC190\\uD55C\\uC2B9/Desktop/project-subway/src/main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"C:/Users/\\uC190\\uD55C\\uC2B9/Desktop/project-subway/src/main/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _defaults from \"lodash/defaults\";\n/* eslint no-magic-numbers: [\"error\", { \"ignore\": [-0.5, 0.5, 0, 1, 2] }]*/\nimport React from \"react\";\nimport { VictoryPortal } from \"../victory-portal/victory-portal\";\nimport { Rect } from \"../victory-primitives/rect\";\nimport { Text } from \"../victory-primitives/text\";\nimport { TSpan } from \"../victory-primitives/tspan\";\nimport * as Helpers from \"../victory-util/helpers\";\nimport * as LabelHelpers from \"../victory-util/label-helpers\";\nimport * as Log from \"../victory-util/log\";\nimport * as Style from \"../victory-util/style\";\nimport * as TextSize from \"../victory-util/textsize\";\nimport * as UserProps from \"../victory-util/user-props\";\nvar defaultStyles = {\n  fill: \"#252525\",\n  fontSize: 14,\n  fontFamily: \"'Gill Sans', 'Gill Sans MT', 'Ser­avek', 'Trebuchet MS', sans-serif\",\n  stroke: \"transparent\"\n};\nvar getPosition = function getPosition(props, dimension) {\n  if (!props.datum) {\n    return 0;\n  }\n  var scaledPoint = Helpers.scalePoint(props, props.datum);\n  return scaledPoint[dimension];\n};\nvar getFontSize = function getFontSize(style) {\n  var baseSize = style && style.fontSize;\n  if (typeof baseSize === \"number\") {\n    return baseSize;\n  } else if (baseSize === undefined || baseSize === null) {\n    return defaultStyles.fontSize;\n  } else if (typeof baseSize === \"string\") {\n    var fontSize = Number(baseSize.replace(\"px\", \"\"));\n    if (!isNaN(fontSize)) {\n      return fontSize;\n    }\n    Log.warn(\"fontSize should be expressed as a number of pixels\");\n    return defaultStyles.fontSize;\n  }\n  return defaultStyles.fontSize;\n};\nvar getSingleValue = function getSingleValue(prop, index) {\n  if (index === void 0) {\n    index = 0;\n  }\n  return Array.isArray(prop) ? prop[index] || prop[0] : prop;\n};\nvar shouldUseMultilineBackgrounds = function shouldUseMultilineBackgrounds(props) {\n  var backgroundStyle = props.backgroundStyle,\n    backgroundPadding = props.backgroundPadding;\n  return Array.isArray(backgroundStyle) && !_isEmpty(backgroundStyle) || Array.isArray(backgroundPadding) && !_isEmpty(backgroundPadding);\n};\nvar getStyles = function getStyles(style, props) {\n  if (props.disableInlineStyles) {\n    var baseStyles = Helpers.evaluateStyle(style, props);\n    return {\n      // Font size is necessary to calculate the y position of the label\n      fontSize: getFontSize(baseStyles)\n    };\n  }\n  var getSingleStyle = function getSingleStyle(s) {\n    var baseStyles = Helpers.evaluateStyle(s ? _defaults({}, s, defaultStyles) : defaultStyles, props);\n    return Object.assign({}, baseStyles, {\n      fontSize: getFontSize(baseStyles)\n    });\n  };\n  return Array.isArray(style) && !_isEmpty(style) ? style.map(function (s) {\n    return getSingleStyle(s);\n  }) : getSingleStyle(style);\n};\nvar getBackgroundStyles = function getBackgroundStyles(style, props) {\n  if (!style) {\n    return undefined;\n  }\n  return Array.isArray(style) && !_isEmpty(style) ? style.map(function (s) {\n    return Helpers.evaluateStyle(s, props);\n  }) : Helpers.evaluateStyle(style, props);\n};\nvar getBackgroundPadding = function getBackgroundPadding(props) {\n  if (props.backgroundPadding && Array.isArray(props.backgroundPadding)) {\n    return props.backgroundPadding.map(function (backgroundPadding) {\n      var padding = Helpers.evaluateProp(backgroundPadding, props);\n      return Helpers.getPadding({\n        padding: padding\n      });\n    });\n  }\n  var padding = Helpers.evaluateProp(props.backgroundPadding, props);\n  return Helpers.getPadding({\n    padding: padding\n  });\n};\nvar getLineHeight = function getLineHeight(props) {\n  var lineHeight = Helpers.evaluateProp(props.lineHeight, props);\n  if (Array.isArray(lineHeight)) {\n    return _isEmpty(lineHeight) ? [1] : lineHeight;\n  }\n  return lineHeight;\n};\nvar getContent = function getContent(text, props) {\n  if (text === undefined || text === null) {\n    return undefined;\n  }\n  if (Array.isArray(text)) {\n    return text.map(function (line) {\n      return Helpers.evaluateProp(line, props);\n    });\n  }\n  var child = Helpers.evaluateProp(text, props);\n  if (child === undefined || child === null) {\n    return undefined;\n  }\n  return Array.isArray(child) ? child : \"\".concat(child).split(\"\\n\");\n};\nvar getDy = function getDy(props, verticalAnchor, lineHeight) {\n  var dy = props.dy ? Helpers.evaluateProp(props.dy, props) : 0;\n  var length = props.inline ? 1 : props.text.length;\n  var capHeight = Helpers.evaluateProp(props.capHeight, props);\n  var anchor = verticalAnchor ? Helpers.evaluateProp(verticalAnchor, props) : \"middle\";\n  var fontSizes = _toConsumableArray(Array(length).keys()).map(function (i) {\n    return getSingleValue(props.style, i).fontSize;\n  });\n  var lineHeights = _toConsumableArray(Array(length).keys()).map(function (i) {\n    return getSingleValue(lineHeight, i);\n  });\n  if (anchor === \"start\") {\n    return dy + (capHeight / 2 + lineHeights[0] / 2) * fontSizes[0];\n  } else if (props.inline) {\n    return anchor === \"end\" ? dy + (capHeight / 2 - lineHeights[0] / 2) * fontSizes[0] : dy + capHeight / 2 * fontSizes[0];\n  } else if (length === 1) {\n    return anchor === \"end\" ? dy + (capHeight / 2 + (0.5 - length) * lineHeights[0]) * fontSizes[0] : dy + (capHeight / 2 + (0.5 - length / 2) * lineHeights[0]) * fontSizes[0];\n  }\n  var allHeights = _toConsumableArray(Array(length).keys()).reduce(function (memo, i) {\n    return memo + (capHeight / 2 + (0.5 - length) * lineHeights[i]) * fontSizes[i] / length;\n  }, 0);\n  return anchor === \"end\" ? dy + allHeights : dy + allHeights / 2 + capHeight / 2 * lineHeights[length - 1] * fontSizes[length - 1];\n};\nvar getTransform = function getTransform(props, x, y) {\n  var polar = props.polar;\n  var style = getSingleValue(props.style);\n  var defaultAngle = polar ? LabelHelpers.getPolarAngle(props) : 0;\n  var baseAngle = style.angle === undefined ? Helpers.evaluateProp(props.angle, props) : style.angle;\n  var angle = baseAngle === undefined ? defaultAngle : baseAngle;\n  var transform = props.transform || style.transform;\n  var transformPart = transform && Helpers.evaluateProp(transform, props);\n  var rotatePart = angle && {\n    rotate: [angle, x, y]\n  };\n  return transformPart || angle ? Style.toTransformString(transformPart, rotatePart) : undefined;\n};\nvar getXCoordinate = function getXCoordinate(calculatedProps, labelSizeWidth) {\n  var direction = calculatedProps.direction,\n    textAnchor = calculatedProps.textAnchor,\n    x = calculatedProps.x,\n    dx = calculatedProps.dx;\n  if (direction === \"rtl\") {\n    return x - labelSizeWidth;\n  }\n  switch (textAnchor) {\n    case \"middle\":\n      return Math.round(x - labelSizeWidth / 2);\n    case \"end\":\n      return Math.round(x - labelSizeWidth);\n    default:\n      // start\n      return x + (dx || 0);\n  }\n};\nvar getYCoordinate = function getYCoordinate(calculatedProps, textHeight) {\n  var verticalAnchor = calculatedProps.verticalAnchor,\n    y = calculatedProps.y,\n    _calculatedProps$orig = calculatedProps.originalDy,\n    originalDy = _calculatedProps$orig === void 0 ? 0 : _calculatedProps$orig;\n  var offset = y + originalDy;\n  switch (verticalAnchor) {\n    case \"start\":\n      return Math.floor(offset);\n    case \"end\":\n      return Math.ceil(offset - textHeight);\n    default:\n      // middle\n      return Math.floor(offset - textHeight / 2);\n  }\n};\nvar getFullBackground = function getFullBackground(calculatedProps, tspanValues) {\n  var _calculatedProps$dx = calculatedProps.dx,\n    dx = _calculatedProps$dx === void 0 ? 0 : _calculatedProps$dx,\n    transform = calculatedProps.transform,\n    backgroundComponent = calculatedProps.backgroundComponent,\n    backgroundStyle = calculatedProps.backgroundStyle,\n    inline = calculatedProps.inline,\n    backgroundPadding = calculatedProps.backgroundPadding,\n    capHeight = calculatedProps.capHeight;\n  var textSizes = tspanValues.map(function (tspan) {\n    return tspan.textSize;\n  });\n  var height = inline ? Math.max.apply(Math, _toConsumableArray(textSizes.map(function (size) {\n    return size.height;\n  }))) : textSizes.reduce(function (memo, size, i) {\n    var capHeightAdjustment = i ? 0 : capHeight / 2;\n    return memo + size.height * (tspanValues[i].lineHeight - capHeightAdjustment);\n  }, 0);\n  var width = inline ? textSizes.reduce(function (memo, size, index) {\n    var offset = index ? dx : 0;\n    return memo + size.width + offset;\n  }, 0) : Math.max.apply(Math, _toConsumableArray(textSizes.map(function (size) {\n    return size.width;\n  })));\n  var xCoordinate = getXCoordinate(calculatedProps, width);\n  var yCoordinate = getYCoordinate(calculatedProps, height);\n  var backgroundProps = {\n    key: \"background\",\n    height: height + backgroundPadding.top + backgroundPadding.bottom,\n    style: backgroundStyle,\n    transform: transform,\n    width: width + backgroundPadding.left + backgroundPadding.right,\n    x: inline ? xCoordinate - backgroundPadding.left : xCoordinate + dx - backgroundPadding.left,\n    y: yCoordinate\n  };\n  return /*#__PURE__*/React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n};\nvar getInlineXOffset = function getInlineXOffset(calculatedProps, textElements, index) {\n  var textAnchor = calculatedProps.textAnchor;\n  var widths = textElements.map(function (t) {\n    return t.widthWithPadding;\n  });\n  var totalWidth = widths.reduce(function (memo, width) {\n    return memo + width;\n  }, 0);\n  var centerOffset = -totalWidth / 2;\n  switch (textAnchor) {\n    case \"start\":\n      return widths.reduce(function (memo, width, i) {\n        return i < index ? memo + width : memo;\n      }, 0);\n    case \"end\":\n      return widths.reduce(function (memo, width, i) {\n        return i > index ? memo - width : memo;\n      }, 0);\n    default:\n      // middle\n      return widths.reduce(function (memo, width, i) {\n        var offsetWidth = i < index ? width : 0;\n        return i === index ? memo + width / 2 : memo + offsetWidth;\n      }, centerOffset);\n  }\n};\nvar getChildBackgrounds = function getChildBackgrounds(calculatedProps, tspanValues) {\n  var dy = calculatedProps.dy,\n    dx = calculatedProps.dx,\n    transform = calculatedProps.transform,\n    backgroundStyle = calculatedProps.backgroundStyle,\n    backgroundPadding = calculatedProps.backgroundPadding,\n    backgroundComponent = calculatedProps.backgroundComponent,\n    inline = calculatedProps.inline,\n    y = calculatedProps.y;\n  var textElements = tspanValues.map(function (current, i) {\n    var previous = getSingleValue(tspanValues, i - 1);\n    var labelSize = current.textSize;\n    var totalLineHeight = current.fontSize * current.lineHeight;\n    var textHeight = Math.ceil(totalLineHeight);\n    var padding = getSingleValue(backgroundPadding, i);\n    var prevPadding = getSingleValue(backgroundPadding, i - 1);\n    var xOffset = inline ? dx || 0 : 0;\n    var childDy = i && !inline ? previous.fontSize * previous.lineHeight + prevPadding.top + prevPadding.bottom : dy - totalLineHeight * 0.5 - (current.fontSize - current.capHeight);\n    return {\n      textHeight: textHeight,\n      labelSize: labelSize,\n      heightWithPadding: textHeight + padding.top + padding.bottom,\n      widthWithPadding: labelSize.width + padding.left + padding.right + xOffset,\n      y: y,\n      fontSize: current.fontSize,\n      dy: childDy\n    };\n  });\n  return textElements.map(function (textElement, i) {\n    var xCoordinate = getXCoordinate(calculatedProps, textElement.labelSize.width);\n    var yCoordinate = textElements.slice(0, i + 1).reduce(function (prev, curr) {\n      return prev + curr.dy;\n    }, y);\n    var padding = getSingleValue(backgroundPadding, i);\n    var height = textElement.heightWithPadding;\n    var xCoord = inline ? getInlineXOffset(calculatedProps, textElements, i) + xCoordinate - padding.left : xCoordinate;\n    var yCoord = inline ? getYCoordinate(calculatedProps, height) - padding.top : yCoordinate;\n    var backgroundProps = {\n      key: \"tspan-background-\".concat(i),\n      height: height,\n      style: getSingleValue(backgroundStyle, i),\n      width: textElement.widthWithPadding,\n      transform: transform,\n      x: xCoord - padding.left,\n      y: yCoord\n    };\n    return /*#__PURE__*/React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n  });\n};\nvar getBackgroundElement = function getBackgroundElement(calculatedProps, tspanValues) {\n  return shouldUseMultilineBackgrounds(calculatedProps) ? getChildBackgrounds(calculatedProps, tspanValues) : getFullBackground(calculatedProps, tspanValues);\n};\nvar calculateSpanDy = function calculateSpanDy(tspanValues, i, calculatedProps) {\n  var current = getSingleValue(tspanValues, i);\n  var previous = getSingleValue(tspanValues, i - 1);\n  var previousHeight = previous.fontSize * previous.lineHeight;\n  var currentHeight = current.fontSize * current.lineHeight;\n  var previousCaps = previous.fontSize - previous.capHeight;\n  var currentCaps = current.fontSize - current.capHeight;\n  var textHeight = previousHeight - previous.fontSize / 2 + current.fontSize / 2 - previousHeight / 2 + currentHeight / 2 - currentCaps / 2 + previousCaps / 2;\n  return shouldUseMultilineBackgrounds(calculatedProps) ? textHeight + current.backgroundPadding.top + previous.backgroundPadding.bottom : textHeight;\n};\nvar getTSpanDy = function getTSpanDy(tspanValues, calculatedProps, i) {\n  var inline = calculatedProps.inline;\n  var current = getSingleValue(tspanValues, i);\n  if (i && !inline) {\n    return calculateSpanDy(tspanValues, i, calculatedProps);\n  } else if (inline) {\n    return i === 0 ? current.backgroundPadding.top : undefined;\n  }\n  return current.backgroundPadding.top;\n};\nvar evaluateProps = function evaluateProps(props) {\n  /* Potential evaluated props are\n    1) text\n    2) style\n    3) everything else\n  */\n  var text = getContent(props.text, props);\n  var style = getStyles(props.style, Object.assign({}, props, {\n    text: text\n  }));\n  var backgroundStyle = getBackgroundStyles(props.backgroundStyle, Object.assign({}, props, {\n    text: text,\n    style: style\n  }));\n  var backgroundPadding = getBackgroundPadding(Object.assign({}, props, {\n    text: text,\n    style: style,\n    backgroundStyle: backgroundStyle\n  }));\n  var id = Helpers.evaluateProp(props.id, props);\n  return Object.assign({}, props, {\n    backgroundStyle: backgroundStyle,\n    backgroundPadding: backgroundPadding,\n    style: style,\n    text: text,\n    id: id\n  });\n};\nvar getCalculatedProps = function getCalculatedProps(props) {\n  var ariaLabel = Helpers.evaluateProp(props.ariaLabel, props);\n  var style = getSingleValue(props.style);\n  var lineHeight = getLineHeight(props);\n  var direction = props.direction ? Helpers.evaluateProp(props.direction, props) : \"inherit\";\n  var textAnchor = props.textAnchor ? Helpers.evaluateProp(props.textAnchor, props) : style.textAnchor || \"start\";\n  var verticalAnchor = props.verticalAnchor ? Helpers.evaluateProp(props.verticalAnchor, props) : style.verticalAnchor || \"middle\";\n  var dx = props.dx ? Helpers.evaluateProp(props.dx, props) : 0;\n  var dy = getDy(props, verticalAnchor, lineHeight);\n  var x = props.x !== undefined ? props.x : getPosition(props, \"x\");\n  var y = props.y !== undefined ? props.y : getPosition(props, \"y\");\n  var transform = getTransform(props, x, y);\n  return Object.assign({}, props, {\n    ariaLabel: ariaLabel,\n    lineHeight: lineHeight,\n    direction: direction,\n    textAnchor: textAnchor,\n    verticalAnchor: verticalAnchor,\n    dx: dx,\n    dy: dy,\n    originalDy: Helpers.evaluateProp(props.dy, props),\n    transform: transform,\n    x: x,\n    y: y\n  });\n};\nvar renderLabel = function renderLabel(calculatedProps, tspanValues) {\n  var ariaLabel = calculatedProps.ariaLabel,\n    inline = calculatedProps.inline,\n    className = calculatedProps.className,\n    title = calculatedProps.title,\n    events = calculatedProps.events,\n    direction = calculatedProps.direction,\n    text = calculatedProps.text,\n    textAnchor = calculatedProps.textAnchor,\n    dx = calculatedProps.dx,\n    dy = calculatedProps.dy,\n    transform = calculatedProps.transform,\n    x = calculatedProps.x,\n    y = calculatedProps.y,\n    desc = calculatedProps.desc,\n    id = calculatedProps.id,\n    tabIndex = calculatedProps.tabIndex,\n    tspanComponent = calculatedProps.tspanComponent,\n    textComponent = calculatedProps.textComponent;\n  var userProps = UserProps.getSafeUserProps(calculatedProps);\n  var textProps = _objectSpread(_objectSpread({\n    \"aria-label\": ariaLabel,\n    key: \"text\"\n  }, events), {}, {\n    direction: direction,\n    dx: dx,\n    x: x,\n    y: y + dy,\n    transform: transform,\n    className: className,\n    title: title,\n    desc: Helpers.evaluateProp(desc, calculatedProps),\n    tabIndex: Helpers.evaluateProp(tabIndex, calculatedProps),\n    id: id\n  }, userProps);\n  var tspans = text.map(function (line, i) {\n    var currentStyle = tspanValues[i].style;\n    var tspanProps = {\n      key: \"\".concat(id, \"-key-\").concat(i),\n      x: !inline ? x : undefined,\n      dx: inline ? dx + tspanValues[i].backgroundPadding.left : dx,\n      dy: getTSpanDy(tspanValues, calculatedProps, i),\n      textAnchor: currentStyle.textAnchor || textAnchor,\n      style: currentStyle,\n      children: line\n    };\n    return /*#__PURE__*/React.cloneElement(tspanComponent, tspanProps);\n  });\n  return /*#__PURE__*/React.cloneElement(textComponent, textProps, tspans);\n};\nvar defaultProps = {\n  backgroundComponent: /*#__PURE__*/React.createElement(Rect, null),\n  groupComponent: /*#__PURE__*/React.createElement(\"g\", null),\n  direction: \"inherit\",\n  textComponent: /*#__PURE__*/React.createElement(Text, null),\n  tspanComponent: /*#__PURE__*/React.createElement(TSpan, null),\n  capHeight: 0.71,\n  // Magic number from d3.\n  lineHeight: 1\n};\nexport var VictoryLabel = function VictoryLabel(initialProps) {\n  var props = evaluateProps(_objectSpread(_objectSpread({}, defaultProps), initialProps));\n  if (props.text === null || props.text === undefined) {\n    return null;\n  }\n  var calculatedProps = getCalculatedProps(props);\n  var text = calculatedProps.text,\n    style = calculatedProps.style,\n    capHeight = calculatedProps.capHeight,\n    backgroundPadding = calculatedProps.backgroundPadding,\n    lineHeight = calculatedProps.lineHeight;\n  var tspanValues = text.map(function (line, i) {\n    var currentStyle = getSingleValue(style, i);\n    var capHeightPx = TextSize.convertLengthToPixels(\"\".concat(capHeight, \"em\"), currentStyle.fontSize);\n    var currentLineHeight = getSingleValue(lineHeight, i);\n    return {\n      style: currentStyle,\n      fontSize: currentStyle.fontSize || defaultStyles.fontSize,\n      capHeight: capHeightPx,\n      text: line,\n      // TODO: This looks like a bug:\n      textSize: TextSize.approximateTextSize(line, currentStyle),\n      lineHeight: currentLineHeight,\n      backgroundPadding: getSingleValue(backgroundPadding, i)\n    };\n  });\n  var label = renderLabel(calculatedProps, tspanValues);\n  if (props.backgroundStyle) {\n    var backgroundElement = getBackgroundElement(calculatedProps, tspanValues);\n    var children = [backgroundElement, label];\n    var backgroundWithLabel = /*#__PURE__*/React.cloneElement(props.groupComponent, {}, children);\n    return props.renderInPortal ? /*#__PURE__*/React.createElement(VictoryPortal, null, backgroundWithLabel) : backgroundWithLabel;\n  }\n  return props.renderInPortal ? /*#__PURE__*/React.createElement(VictoryPortal, null, label) : label;\n};\nVictoryLabel.displayName = \"VictoryLabel\";\nVictoryLabel.role = \"label\";\nVictoryLabel.defaultStyles = defaultStyles;","map":{"version":3,"names":["_isEmpty","_defaults","React","VictoryPortal","Rect","Text","TSpan","Helpers","LabelHelpers","Log","Style","TextSize","UserProps","defaultStyles","fill","fontSize","fontFamily","stroke","getPosition","props","dimension","datum","scaledPoint","scalePoint","getFontSize","style","baseSize","undefined","Number","replace","isNaN","warn","getSingleValue","prop","index","Array","isArray","shouldUseMultilineBackgrounds","backgroundStyle","backgroundPadding","getStyles","disableInlineStyles","baseStyles","evaluateStyle","getSingleStyle","s","Object","assign","map","getBackgroundStyles","getBackgroundPadding","padding","evaluateProp","getPadding","getLineHeight","lineHeight","getContent","text","line","child","concat","split","getDy","verticalAnchor","dy","length","inline","capHeight","anchor","fontSizes","_toConsumableArray","keys","i","lineHeights","allHeights","reduce","memo","getTransform","x","y","polar","defaultAngle","getPolarAngle","baseAngle","angle","transform","transformPart","rotatePart","rotate","toTransformString","getXCoordinate","calculatedProps","labelSizeWidth","direction","textAnchor","dx","Math","round","getYCoordinate","textHeight","_calculatedProps$orig","originalDy","offset","floor","ceil","getFullBackground","tspanValues","_calculatedProps$dx","backgroundComponent","textSizes","tspan","textSize","height","max","apply","size","capHeightAdjustment","width","xCoordinate","yCoordinate","backgroundProps","key","top","bottom","left","right","cloneElement","getInlineXOffset","textElements","widths","t","widthWithPadding","totalWidth","centerOffset","offsetWidth","getChildBackgrounds","current","previous","labelSize","totalLineHeight","prevPadding","xOffset","childDy","heightWithPadding","textElement","slice","prev","curr","xCoord","yCoord","getBackgroundElement","calculateSpanDy","previousHeight","currentHeight","previousCaps","currentCaps","getTSpanDy","evaluateProps","id","getCalculatedProps","ariaLabel","renderLabel","className","title","events","desc","tabIndex","tspanComponent","textComponent","userProps","getSafeUserProps","textProps","_objectSpread","tspans","currentStyle","tspanProps","children","defaultProps","createElement","groupComponent","VictoryLabel","initialProps","capHeightPx","convertLengthToPixels","currentLineHeight","approximateTextSize","label","backgroundElement","backgroundWithLabel","renderInPortal","displayName","role"],"sources":["C:/Users/손한승/Desktop/project-subway/src/main/frontend/node_modules/victory-core/es/victory-label/victory-label.js"],"sourcesContent":["import _isEmpty from \"lodash/isEmpty\";\nimport _defaults from \"lodash/defaults\";\n/* eslint no-magic-numbers: [\"error\", { \"ignore\": [-0.5, 0.5, 0, 1, 2] }]*/\nimport React from \"react\";\nimport { VictoryPortal } from \"../victory-portal/victory-portal\";\nimport { Rect } from \"../victory-primitives/rect\";\nimport { Text } from \"../victory-primitives/text\";\nimport { TSpan } from \"../victory-primitives/tspan\";\nimport * as Helpers from \"../victory-util/helpers\";\nimport * as LabelHelpers from \"../victory-util/label-helpers\";\nimport * as Log from \"../victory-util/log\";\nimport * as Style from \"../victory-util/style\";\nimport * as TextSize from \"../victory-util/textsize\";\nimport * as UserProps from \"../victory-util/user-props\";\nconst defaultStyles = {\n  fill: \"#252525\",\n  fontSize: 14,\n  fontFamily: \"'Gill Sans', 'Gill Sans MT', 'Ser­avek', 'Trebuchet MS', sans-serif\",\n  stroke: \"transparent\"\n};\nconst getPosition = (props, dimension) => {\n  if (!props.datum) {\n    return 0;\n  }\n  const scaledPoint = Helpers.scalePoint(props, props.datum);\n  return scaledPoint[dimension];\n};\nconst getFontSize = style => {\n  const baseSize = style && style.fontSize;\n  if (typeof baseSize === \"number\") {\n    return baseSize;\n  } else if (baseSize === undefined || baseSize === null) {\n    return defaultStyles.fontSize;\n  } else if (typeof baseSize === \"string\") {\n    const fontSize = Number(baseSize.replace(\"px\", \"\"));\n    if (!isNaN(fontSize)) {\n      return fontSize;\n    }\n    Log.warn(\"fontSize should be expressed as a number of pixels\");\n    return defaultStyles.fontSize;\n  }\n  return defaultStyles.fontSize;\n};\nconst getSingleValue = function (prop, index) {\n  if (index === void 0) {\n    index = 0;\n  }\n  return Array.isArray(prop) ? prop[index] || prop[0] : prop;\n};\nconst shouldUseMultilineBackgrounds = props => {\n  const {\n    backgroundStyle,\n    backgroundPadding\n  } = props;\n  return Array.isArray(backgroundStyle) && !_isEmpty(backgroundStyle) || Array.isArray(backgroundPadding) && !_isEmpty(backgroundPadding);\n};\nconst getStyles = (style, props) => {\n  if (props.disableInlineStyles) {\n    const baseStyles = Helpers.evaluateStyle(style, props);\n    return {\n      // Font size is necessary to calculate the y position of the label\n      fontSize: getFontSize(baseStyles)\n    };\n  }\n  const getSingleStyle = s => {\n    const baseStyles = Helpers.evaluateStyle(s ? _defaults({}, s, defaultStyles) : defaultStyles, props);\n    return Object.assign({}, baseStyles, {\n      fontSize: getFontSize(baseStyles)\n    });\n  };\n  return Array.isArray(style) && !_isEmpty(style) ? style.map(s => getSingleStyle(s)) : getSingleStyle(style);\n};\nconst getBackgroundStyles = (style, props) => {\n  if (!style) {\n    return undefined;\n  }\n  return Array.isArray(style) && !_isEmpty(style) ? style.map(s => Helpers.evaluateStyle(s, props)) : Helpers.evaluateStyle(style, props);\n};\nconst getBackgroundPadding = props => {\n  if (props.backgroundPadding && Array.isArray(props.backgroundPadding)) {\n    return props.backgroundPadding.map(backgroundPadding => {\n      const padding = Helpers.evaluateProp(backgroundPadding, props);\n      return Helpers.getPadding({\n        padding\n      });\n    });\n  }\n  const padding = Helpers.evaluateProp(props.backgroundPadding, props);\n  return Helpers.getPadding({\n    padding\n  });\n};\nconst getLineHeight = props => {\n  const lineHeight = Helpers.evaluateProp(props.lineHeight, props);\n  if (Array.isArray(lineHeight)) {\n    return _isEmpty(lineHeight) ? [1] : lineHeight;\n  }\n  return lineHeight;\n};\nconst getContent = (text, props) => {\n  if (text === undefined || text === null) {\n    return undefined;\n  }\n  if (Array.isArray(text)) {\n    return text.map(line => Helpers.evaluateProp(line, props));\n  }\n  const child = Helpers.evaluateProp(text, props);\n  if (child === undefined || child === null) {\n    return undefined;\n  }\n  return Array.isArray(child) ? child : `${child}`.split(\"\\n\");\n};\nconst getDy = (props, verticalAnchor, lineHeight) => {\n  const dy = props.dy ? Helpers.evaluateProp(props.dy, props) : 0;\n  const length = props.inline ? 1 : props.text.length;\n  const capHeight = Helpers.evaluateProp(props.capHeight, props);\n  const anchor = verticalAnchor ? Helpers.evaluateProp(verticalAnchor, props) : \"middle\";\n  const fontSizes = [...Array(length).keys()].map(i => getSingleValue(props.style, i).fontSize);\n  const lineHeights = [...Array(length).keys()].map(i => getSingleValue(lineHeight, i));\n  if (anchor === \"start\") {\n    return dy + (capHeight / 2 + lineHeights[0] / 2) * fontSizes[0];\n  } else if (props.inline) {\n    return anchor === \"end\" ? dy + (capHeight / 2 - lineHeights[0] / 2) * fontSizes[0] : dy + capHeight / 2 * fontSizes[0];\n  } else if (length === 1) {\n    return anchor === \"end\" ? dy + (capHeight / 2 + (0.5 - length) * lineHeights[0]) * fontSizes[0] : dy + (capHeight / 2 + (0.5 - length / 2) * lineHeights[0]) * fontSizes[0];\n  }\n  const allHeights = [...Array(length).keys()].reduce((memo, i) => {\n    return memo + (capHeight / 2 + (0.5 - length) * lineHeights[i]) * fontSizes[i] / length;\n  }, 0);\n  return anchor === \"end\" ? dy + allHeights : dy + allHeights / 2 + capHeight / 2 * lineHeights[length - 1] * fontSizes[length - 1];\n};\nconst getTransform = (props, x, y) => {\n  const {\n    polar\n  } = props;\n  const style = getSingleValue(props.style);\n  const defaultAngle = polar ? LabelHelpers.getPolarAngle(props) : 0;\n  const baseAngle = style.angle === undefined ? Helpers.evaluateProp(props.angle, props) : style.angle;\n  const angle = baseAngle === undefined ? defaultAngle : baseAngle;\n  const transform = props.transform || style.transform;\n  const transformPart = transform && Helpers.evaluateProp(transform, props);\n  const rotatePart = angle && {\n    rotate: [angle, x, y]\n  };\n  return transformPart || angle ? Style.toTransformString(transformPart, rotatePart) : undefined;\n};\nconst getXCoordinate = (calculatedProps, labelSizeWidth) => {\n  const {\n    direction,\n    textAnchor,\n    x,\n    dx\n  } = calculatedProps;\n  if (direction === \"rtl\") {\n    return x - labelSizeWidth;\n  }\n  switch (textAnchor) {\n    case \"middle\":\n      return Math.round(x - labelSizeWidth / 2);\n    case \"end\":\n      return Math.round(x - labelSizeWidth);\n    default:\n      // start\n      return x + (dx || 0);\n  }\n};\nconst getYCoordinate = (calculatedProps, textHeight) => {\n  const {\n    verticalAnchor,\n    y,\n    originalDy = 0\n  } = calculatedProps;\n  const offset = y + originalDy;\n  switch (verticalAnchor) {\n    case \"start\":\n      return Math.floor(offset);\n    case \"end\":\n      return Math.ceil(offset - textHeight);\n    default:\n      // middle\n      return Math.floor(offset - textHeight / 2);\n  }\n};\nconst getFullBackground = (calculatedProps, tspanValues) => {\n  const {\n    dx = 0,\n    transform,\n    backgroundComponent,\n    backgroundStyle,\n    inline,\n    backgroundPadding,\n    capHeight\n  } = calculatedProps;\n  const textSizes = tspanValues.map(tspan => {\n    return tspan.textSize;\n  });\n  const height = inline ? Math.max(...textSizes.map(size => size.height)) : textSizes.reduce((memo, size, i) => {\n    const capHeightAdjustment = i ? 0 : capHeight / 2;\n    return memo + size.height * (tspanValues[i].lineHeight - capHeightAdjustment);\n  }, 0);\n  const width = inline ? textSizes.reduce((memo, size, index) => {\n    const offset = index ? dx : 0;\n    return memo + size.width + offset;\n  }, 0) : Math.max(...textSizes.map(size => size.width));\n  const xCoordinate = getXCoordinate(calculatedProps, width);\n  const yCoordinate = getYCoordinate(calculatedProps, height);\n  const backgroundProps = {\n    key: \"background\",\n    height: height + backgroundPadding.top + backgroundPadding.bottom,\n    style: backgroundStyle,\n    transform,\n    width: width + backgroundPadding.left + backgroundPadding.right,\n    x: inline ? xCoordinate - backgroundPadding.left : xCoordinate + dx - backgroundPadding.left,\n    y: yCoordinate\n  };\n  return /*#__PURE__*/React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n};\nconst getInlineXOffset = (calculatedProps, textElements, index) => {\n  const {\n    textAnchor\n  } = calculatedProps;\n  const widths = textElements.map(t => t.widthWithPadding);\n  const totalWidth = widths.reduce((memo, width) => memo + width, 0);\n  const centerOffset = -totalWidth / 2;\n  switch (textAnchor) {\n    case \"start\":\n      return widths.reduce((memo, width, i) => i < index ? memo + width : memo, 0);\n    case \"end\":\n      return widths.reduce((memo, width, i) => i > index ? memo - width : memo, 0);\n    default:\n      // middle\n      return widths.reduce((memo, width, i) => {\n        const offsetWidth = i < index ? width : 0;\n        return i === index ? memo + width / 2 : memo + offsetWidth;\n      }, centerOffset);\n  }\n};\nconst getChildBackgrounds = (calculatedProps, tspanValues) => {\n  const {\n    dy,\n    dx,\n    transform,\n    backgroundStyle,\n    backgroundPadding,\n    backgroundComponent,\n    inline,\n    y\n  } = calculatedProps;\n  const textElements = tspanValues.map((current, i) => {\n    const previous = getSingleValue(tspanValues, i - 1);\n    const labelSize = current.textSize;\n    const totalLineHeight = current.fontSize * current.lineHeight;\n    const textHeight = Math.ceil(totalLineHeight);\n    const padding = getSingleValue(backgroundPadding, i);\n    const prevPadding = getSingleValue(backgroundPadding, i - 1);\n    const xOffset = inline ? dx || 0 : 0;\n    const childDy = i && !inline ? previous.fontSize * previous.lineHeight + prevPadding.top + prevPadding.bottom : dy - totalLineHeight * 0.5 - (current.fontSize - current.capHeight);\n    return {\n      textHeight,\n      labelSize,\n      heightWithPadding: textHeight + padding.top + padding.bottom,\n      widthWithPadding: labelSize.width + padding.left + padding.right + xOffset,\n      y,\n      fontSize: current.fontSize,\n      dy: childDy\n    };\n  });\n  return textElements.map((textElement, i) => {\n    const xCoordinate = getXCoordinate(calculatedProps, textElement.labelSize.width);\n    const yCoordinate = textElements.slice(0, i + 1).reduce((prev, curr) => {\n      return prev + curr.dy;\n    }, y);\n    const padding = getSingleValue(backgroundPadding, i);\n    const height = textElement.heightWithPadding;\n    const xCoord = inline ? getInlineXOffset(calculatedProps, textElements, i) + xCoordinate - padding.left : xCoordinate;\n    const yCoord = inline ? getYCoordinate(calculatedProps, height) - padding.top : yCoordinate;\n    const backgroundProps = {\n      key: `tspan-background-${i}`,\n      height,\n      style: getSingleValue(backgroundStyle, i),\n      width: textElement.widthWithPadding,\n      transform,\n      x: xCoord - padding.left,\n      y: yCoord\n    };\n    return /*#__PURE__*/React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n  });\n};\nconst getBackgroundElement = (calculatedProps, tspanValues) => {\n  return shouldUseMultilineBackgrounds(calculatedProps) ? getChildBackgrounds(calculatedProps, tspanValues) : getFullBackground(calculatedProps, tspanValues);\n};\nconst calculateSpanDy = (tspanValues, i, calculatedProps) => {\n  const current = getSingleValue(tspanValues, i);\n  const previous = getSingleValue(tspanValues, i - 1);\n  const previousHeight = previous.fontSize * previous.lineHeight;\n  const currentHeight = current.fontSize * current.lineHeight;\n  const previousCaps = previous.fontSize - previous.capHeight;\n  const currentCaps = current.fontSize - current.capHeight;\n  const textHeight = previousHeight - previous.fontSize / 2 + current.fontSize / 2 - previousHeight / 2 + currentHeight / 2 - currentCaps / 2 + previousCaps / 2;\n  return shouldUseMultilineBackgrounds(calculatedProps) ? textHeight + current.backgroundPadding.top + previous.backgroundPadding.bottom : textHeight;\n};\nconst getTSpanDy = (tspanValues, calculatedProps, i) => {\n  const {\n    inline\n  } = calculatedProps;\n  const current = getSingleValue(tspanValues, i);\n  if (i && !inline) {\n    return calculateSpanDy(tspanValues, i, calculatedProps);\n  } else if (inline) {\n    return i === 0 ? current.backgroundPadding.top : undefined;\n  }\n  return current.backgroundPadding.top;\n};\nconst evaluateProps = props => {\n  /* Potential evaluated props are\n    1) text\n    2) style\n    3) everything else\n  */\n  const text = getContent(props.text, props);\n  const style = getStyles(props.style, Object.assign({}, props, {\n    text\n  }));\n  const backgroundStyle = getBackgroundStyles(props.backgroundStyle, Object.assign({}, props, {\n    text,\n    style\n  }));\n  const backgroundPadding = getBackgroundPadding(Object.assign({}, props, {\n    text,\n    style,\n    backgroundStyle\n  }));\n  const id = Helpers.evaluateProp(props.id, props);\n  return Object.assign({}, props, {\n    backgroundStyle,\n    backgroundPadding,\n    style,\n    text,\n    id\n  });\n};\nconst getCalculatedProps = props => {\n  const ariaLabel = Helpers.evaluateProp(props.ariaLabel, props);\n  const style = getSingleValue(props.style);\n  const lineHeight = getLineHeight(props);\n  const direction = props.direction ? Helpers.evaluateProp(props.direction, props) : \"inherit\";\n  const textAnchor = props.textAnchor ? Helpers.evaluateProp(props.textAnchor, props) : style.textAnchor || \"start\";\n  const verticalAnchor = props.verticalAnchor ? Helpers.evaluateProp(props.verticalAnchor, props) : style.verticalAnchor || \"middle\";\n  const dx = props.dx ? Helpers.evaluateProp(props.dx, props) : 0;\n  const dy = getDy(props, verticalAnchor, lineHeight);\n  const x = props.x !== undefined ? props.x : getPosition(props, \"x\");\n  const y = props.y !== undefined ? props.y : getPosition(props, \"y\");\n  const transform = getTransform(props, x, y);\n  return Object.assign({}, props, {\n    ariaLabel,\n    lineHeight,\n    direction,\n    textAnchor,\n    verticalAnchor,\n    dx,\n    dy,\n    originalDy: Helpers.evaluateProp(props.dy, props),\n    transform,\n    x,\n    y\n  });\n};\nconst renderLabel = (calculatedProps, tspanValues) => {\n  const {\n    ariaLabel,\n    inline,\n    className,\n    title,\n    events,\n    direction,\n    text,\n    textAnchor,\n    dx,\n    dy,\n    transform,\n    x,\n    y,\n    desc,\n    id,\n    tabIndex,\n    tspanComponent,\n    textComponent\n  } = calculatedProps;\n  const userProps = UserProps.getSafeUserProps(calculatedProps);\n  const textProps = {\n    \"aria-label\": ariaLabel,\n    key: \"text\",\n    ...events,\n    direction,\n    dx,\n    x,\n    y: y + dy,\n    transform,\n    className,\n    title,\n    desc: Helpers.evaluateProp(desc, calculatedProps),\n    tabIndex: Helpers.evaluateProp(tabIndex, calculatedProps),\n    id,\n    ...userProps\n  };\n  const tspans = text.map((line, i) => {\n    const currentStyle = tspanValues[i].style;\n    const tspanProps = {\n      key: `${id}-key-${i}`,\n      x: !inline ? x : undefined,\n      dx: inline ? dx + tspanValues[i].backgroundPadding.left : dx,\n      dy: getTSpanDy(tspanValues, calculatedProps, i),\n      textAnchor: currentStyle.textAnchor || textAnchor,\n      style: currentStyle,\n      children: line\n    };\n    return /*#__PURE__*/React.cloneElement(tspanComponent, tspanProps);\n  });\n  return /*#__PURE__*/React.cloneElement(textComponent, textProps, tspans);\n};\nconst defaultProps = {\n  backgroundComponent: /*#__PURE__*/React.createElement(Rect, null),\n  groupComponent: /*#__PURE__*/React.createElement(\"g\", null),\n  direction: \"inherit\",\n  textComponent: /*#__PURE__*/React.createElement(Text, null),\n  tspanComponent: /*#__PURE__*/React.createElement(TSpan, null),\n  capHeight: 0.71,\n  // Magic number from d3.\n  lineHeight: 1\n};\nexport const VictoryLabel = initialProps => {\n  const props = evaluateProps({\n    ...defaultProps,\n    ...initialProps\n  });\n  if (props.text === null || props.text === undefined) {\n    return null;\n  }\n  const calculatedProps = getCalculatedProps(props);\n  const {\n    text,\n    style,\n    capHeight,\n    backgroundPadding,\n    lineHeight\n  } = calculatedProps;\n  const tspanValues = text.map((line, i) => {\n    const currentStyle = getSingleValue(style, i);\n    const capHeightPx = TextSize.convertLengthToPixels(`${capHeight}em`, currentStyle.fontSize);\n    const currentLineHeight = getSingleValue(lineHeight, i);\n    return {\n      style: currentStyle,\n      fontSize: currentStyle.fontSize || defaultStyles.fontSize,\n      capHeight: capHeightPx,\n      text: line,\n      // TODO: This looks like a bug:\n      textSize: TextSize.approximateTextSize(line, currentStyle),\n      lineHeight: currentLineHeight,\n      backgroundPadding: getSingleValue(backgroundPadding, i)\n    };\n  });\n  const label = renderLabel(calculatedProps, tspanValues);\n  if (props.backgroundStyle) {\n    const backgroundElement = getBackgroundElement(calculatedProps, tspanValues);\n    const children = [backgroundElement, label];\n    const backgroundWithLabel = /*#__PURE__*/React.cloneElement(props.groupComponent, {}, children);\n    return props.renderInPortal ? /*#__PURE__*/React.createElement(VictoryPortal, null, backgroundWithLabel) : backgroundWithLabel;\n  }\n  return props.renderInPortal ? /*#__PURE__*/React.createElement(VictoryPortal, null, label) : label;\n};\nVictoryLabel.displayName = \"VictoryLabel\";\nVictoryLabel.role = \"label\";\nVictoryLabel.defaultStyles = defaultStyles;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}